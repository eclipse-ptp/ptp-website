<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><meta name="Derrick Keefe" content="CDT Project"><meta name="GENERATOR" content="Microsoft FrontPage 4.0"><meta name="ProgId" content="FrontPage.Editor.Document"><title>PTP DRAFT 1.0 Plan</title><link rel="stylesheet" href="../../default_style.css" type="text/css"></head><body><h1>PTP Project 1.0 Plan (Draft)</h1><p>Initial Document January 6, 2004<br><br><i>&nbsp;&nbsp;&nbsp; Please send comments about this draft plan to the </i><a href="news://news.eclipse.org/eclipse.technology.ptp">eclipse.technology.ptp</a><i>newsgroup.</i></p><p>This document describes the initial plan for achieving version 1.0 of the PTP. <ul>  <li><a href="#Deliverables">Release deliverables</a></li>  <li><a href="#Milestones">Release milestones</a></li>  <li><a href="#Platform">PTP subprojects</a></li></ul><h2><a name="Deliverables"></a>Release deliverables</h2><p>The release deliverables: <ul>  <li>Source code release for PTP Project.</li>  <li> PTP Project (downloadable).</li>  <li>PTP runtime binary distribution (downloadable).</li></ul><h2><a name="Milestones"></a>Release milestones</h2><p>Current versions of PTP are built with Eclipse platform 3.0.1 and CDT 2.1, however the initial PTP releases will target Eclipse platform 3.1 and CDT 3.0.<p>The milestones are:<ul>  <i>July 1,2005</i>  <li>March 4, 2005 - Milestone 1  - stable build reflecting progress  </ul><ul> <i>October 1 , 2005</i> <li>June 3, 2005 - Milestone 2 (1.0) - stable build, feature complete</ul><h2><a name="Platform">PTP Subprojects</a></h2><p> The PTP consists 5 subprojects. Each subproject is covered in it's own section:</p><ul>  <li><a href="#ExecutionEnvironment">Parallel Execution Environment </a></li>  <li><a href="#Debugger">Parallel Debugger</a></li>    <li><a href="#ToolsIntegration">Tools Integration </a></li>    <li><a href="#EndUser">End-User Support</a></li>  <li><a href="#FDT">Fortran Development Tools</a> </li></ul><h3><a name="ExecutionEnvironment" id="ExecutionEnvironment">Execution Environment </a></h3><p>The Execution Environment provides the interface between Eclipse and a parallel runtime system that is used to execute  programs on a parallel machine. Unlike a normal sequential runtime, launching a parallel program is complicated by the number of different parallel architectures, each with its own specialized commands for managing the execution of  programs. Although there is some standardization in the way to write parallel codes (such as MPI), there is little standardization in how to launch, control and interact with a parallel program. To further complicate matters, many parallel systems employ some form of resource allocation system, such as a job scheduler. In many cases, execution of a parallel program must be managed by the resource allocation system, rather than by direct invocation by the user.</p><p>Due to the complex nature of interfacing with many different parallel runtime systems, our plan is to use an abstract parallel  model within the Eclipse environment and provide a <em>single</em> parallel runtime interface to the outside world. Architecture specific details of the parallel system(s) will then be managed by a middleware layer that will provide a common set of services for interacting with arbitrary parallel runtime and resource allocation systems. This middleware layer will use the <a href="http://www.open-mpi.org">Open MPI</a> runtime component (which is separate, and independent, from the actual MPI implementation). The following diagram shows the proposed architecture.</p><p align="center"><img src="images/runtime.png" width="494" height="458"></p><p align="left">The execution environment comprises four main components: abstract parallel model, parallel runtime controller, parallel user interface, and parallel launch configuration. Each of these is discussed in more detail below. </p><p align="left">The Open MPI runtime provides a range of services that are required for parallel support in Eclipse. These include:</p><ul>  <li>remote process management</li>  <li>event notification</li>  <li>job connection/reconnection</li>  <li>remote I/O management</li>  <li>resource management</li>  <li>state of health services</li></ul><p>These services are provided using an architecture neutral API that vastly simplifies the interface between Eclipse and the many parallel runtime systems. In addition, the Open MPI runtime has planned support for a wide range of legacy message passing systems, and can also be used for parallel programs that use the shared memory model. </p><p><strong>Committed Items </strong></p><blockquote> <p><strong>Abstract parallel  model</strong> <em>(in progress)</em> </p><p>Unlike execution support for sequential languages, the parallel execution environment must maintain an internal model that represents the state of external components, such as parallel machines, resource allocation systems, and the executing program themselves. The following is a conceptual diagram of the model.</p><p align="center"><img src="images/model2.png" width="512" height="353"> </p><p align="left">The <em>universe</em> is the top most object for managing the execution environment. There can be any number of <em>machines</em> and <em>jobs </em>in a universe. Each machine is composed of an arbitrary number of <em>nodes</em>. A node is where computation is undertaken, and may be a remote system in the case of a distributed memory architecture, or a local processor in the case of an SMP machine.  A job is a unit of work that is suitable for a resource allocation system. Once a  job is scheduled for execution, it causes <em>processes</em> to be started on the appropriate nodes of one or more machines. A process is an instruction stream that performs some computation. The  job then provides a reference point for each process that is participating in the parallel execution.  Machines, nodes, processes, and jobs all have attributes that reflect the status of the particular component. </p><p><strong>Parallel runtime controller </strong><em>(in progress)</em></p><p>The parallel runtime controller is responsible for controlling interaction between the parallel tools platform components and the external runtime. It undertakes the following actions:</p><ul>  <li>starting and stopping the external runtime interface</li>  <li>reconnection to existing parallel jobs </li>  <li>launching a parallel job</li>  <li>terminating a parallel job </li>  <li>notification of status changes</li>  <li>managing I/O streams</li>  </ul>  <p>Communication between Eclipse and the external runtime is via  Java Native Interface calls to a C library, which leads to a simple, efficient API that is suitable for use with other runtime systems in the future. </p>  <p><strong>User interface elements</strong> <em>(in progress)</em></p>  <p align="left">Another significant difference between runtime support for sequential and parallel programs, is the need to be able to monitor the status of machine during program execution. In addition, where a resource allocation system is employed, a visual indication of the status of jobs as they progress through the queues is required. To accomplish this, our intention is to develop a number of user interface elements that, by utilizing services supplied by the middleware layer, will provide the user with the ability to monitor and control system and job status. A prototype user interface element for displaying machine, node and process status information is shown below.</p>  <table width="64%"  border="0" align="center" cellpadding="5" cellspacing="5">    <tr>      <td height="528"><img src="images/node_status.png" width="312" height="528"></td>      <td align="left" valign="top"><div align="left"><img src="images/legend.png" width="191" height="340"></div></td>    </tr>  </table>  <p>User interface elements that are required for the execution environment are:</p>  <ul>    <li>machine, node and process status</li>    <li>job status</li>    <li>resource allocation status</li>    <li>launch configuration</li>    <li>process details</li>    <li>process standard I/O</li>    <li><em>others?</em></li>  </ul>  <p><strong>Parallel launch configuration</strong> <em>(in progress)</em></p>  <p>The parallel launch configuration uses the launch framework to manage the execution of a parallel program. The parallel launch configuration allows the user to specify the resource requirements necessary for correct execution of the program. This might include resources such as the number of processes, the type of network to use for interprocess communication, the amount of memory required, and the amount of time required to execute the program. The image below shows an early implementation of the parallel launch configuration dialog. </p>  <p align="center"><img src="images/run.png" height="528"> </p>  <p>After the resource information has been specified, the job is ready to be launched. Pressing the 'run' button will cause the launch configuration to pass the job information to the runtime controller, which will schedule the job for execution by the external runtime. Jobs that require resources to be allocated before execution will be placed in the appropriate  queue, and the user will be notified once the job begins execution. Jobs that can be run interactively will be scheduled for immediate execution by the external runtime system. </p></blockquote><h4>Proposed Items</h4><blockquote>   <p><strong>Pre/post execution data file management</strong></p>  <p>Parallel programs typically require one or more input data files, and may generate one or more output data files. Unlike sequential execution where the program executes on the local machine, parallel programs will normally execute on one or more remote machines. This complicates data file management, because the correct data file must be available to each process prior to execution. In addition, if the parallel processes produce individual output data files, these may need to collected from remote systems, then post-processed in some manner. There are a variety of methods for managing input/output data files, including network file systems, scripts, etc. Ideally, however, the execution environment would provide some standard mechanisms for managing data files in a range of different environments. </p>  <p><strong>Remote build/launch capability</strong></p>  <p>Although it is possible to run Eclipse in the same environment as the parallel programs (e.g. using X-Windows), it would be much more convenient if Eclipse was running on the users local workstation (laptop, etc.). The Open MPI runtime supports this model of parallel execution, however there are a number of other issues that also need to be considered. In particular, it is unlikely that the users workstation contains the necessary tool chain, libraries and header files that are required to build the parallel program. To overcome this, it will be necessary to provide a remote build environment in addition to the remote execution environment.</p></blockquote><h3><a name="Debugger" id="Debugger">Parallel Debugger</a></h3><p>The parallel debugger is a key component of the Parallel Tools Plaform. The debugger relies on the services of the execution environment to launch a parallel program so that each process is individually controlled by the debugger. Because a parallel program can consist of many thousands of processes, this control mechanism must be implemented in a scalable manner. </p><h4>Committed Items </h4><blockquote>  <p><strong>Debug model.</strong></p>  <p><strong>User interface elements. </strong></p></blockquote><h4>Proposed Items</h4><blockquote>&nbsp;</blockquote>   <h3><a name="ToolsIntegration" id="ToolsIntegration">Tools Integration</a></h3><h4>Committed Items </h4><blockquote>  <p>&nbsp;</p></blockquote><h4>Proposed Items </h4><p>&nbsp;</p><h3><a name="EndUser" id="EndUser">End User Support </a></h3><h4>Committed Items </h4><blockquote> <p>&nbsp;</p></blockquote><h4>Proposed Items</h4><blockquote>&nbsp; </blockquote><h3><a name="OtherPlatform">Fortran Development Tools </a></h3><h4>Committed Items</h4><blockquote>&nbsp;</blockquote><h4>Proposed Items</h4><blockquote>&nbsp; </blockquote></body></html>